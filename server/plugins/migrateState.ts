// import type { OBSDevice } from "~/types"

export default defineNitroPlugin(async () => {
  // const storage = useStorage("data")
  // let modified = false
  // const devices = ((await storage.getItem("devices")) as OBSDevice[]).map((device) => {
  //   if (!Object.hasOwn(device, "ready")) {
  //     device.ready = device.ready || !device.faulty
  //     delete device.faulty
  //     modified = true
  //   }
  //   return device
  // })
  // if (modified) {
  //   storage.setItem("devices", devices)
  // }
})
